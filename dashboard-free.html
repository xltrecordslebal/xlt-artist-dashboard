<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>X.L.T Records Free Plan Dashboard</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

    /* Reset & base */
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0; font-family: 'Inter', sans-serif;
      background: #121217;
      color: #e0e0e0;
      display: flex;
      height: 100vh;
      overflow: hidden;
    }

    /* Sidebar */
    nav.sidebar {
      width: 250px;
      background: #1f1f29;
      display: flex;
      flex-direction: column;
      padding: 1.5rem 1rem;
      border-right: 1px solid #333;
      user-select: none;
    }
    nav.sidebar h2 {
      color: #7c3aed;
      font-weight: 700;
      font-size: 1.6rem;
      margin: 0 0 2rem;
      text-align: center;
      letter-spacing: 1.5px;
      user-select: text;
    }
    nav.sidebar a {
      display: block;
      padding: 0.75rem 1rem;
      margin-bottom: 0.3rem;
      color: #ccc;
      text-decoration: none;
      font-weight: 600;
      border-radius: 6px;
      transition: background 0.25s ease;
    }
    nav.sidebar a.active, nav.sidebar a:hover {
      background: #7c3aed;
      color: white;
    }
    nav.sidebar .upgrade-box {
      margin-top: auto;
      padding: 1rem;
      background: #2e2a4a;
      border-radius: 10px;
      text-align: center;
      font-size: 0.9rem;
      color: #d4bbff;
      box-shadow: 0 0 8px #7c3aedaa;
    }
    nav.sidebar .upgrade-box button {
      margin-top: 0.6rem;
      background: #7c3aed;
      border: none;
      border-radius: 6px;
      color: white;
      padding: 0.5rem 1rem;
      font-weight: 700;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    nav.sidebar .upgrade-box button:hover {
      background: #5a21d4;
    }

    /* Main content */
    main.content {
      flex-grow: 1;
      overflow-y: auto;
      padding: 2rem 2.5rem;
      background: #181821;
      display: flex;
      flex-direction: column;
    }

    /* Header */
    header.main-header {
      margin-bottom: 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    header.main-header h1 {
      margin: 0;
      font-weight: 700;
      font-size: 1.8rem;
      color: #a78bfa;
    }
    header.main-header button.logout-btn {
      background: #ef4444;
      border: none;
      color: white;
      font-weight: 700;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.25s ease;
    }
    header.main-header button.logout-btn:hover {
      background: #b91c1c;
    }

    /* Sections */
    section.page {
      display: none;
      flex-direction: column;
      animation: fadeIn 0.5s ease forwards;
      max-width: 900px;
      margin: 0 auto;
    }
    section.page.active {
      display: flex;
    }

    /* Dashboard Overview */
    .overview-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(180px,1fr));
      gap: 1.5rem;
    }
    .card {
      background: #2a254d;
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 0 10px #7c3aed77;
      text-align: center;
      user-select: none;
      cursor: default;
      transition: box-shadow 0.3s ease;
    }
    .card:hover {
      box-shadow: 0 0 18px #a78bfacc;
    }
    .card h3 {
      margin: 0 0 0.5rem;
      font-weight: 700;
      font-size: 1.2rem;
      color: #c4b5fd;
    }
    .card p {
      margin: 0;
      font-size: 2.5rem;
      font-weight: 800;
      color: #ede9fe;
    }

    /* Submit Song Form */
    form#submitSongForm {
      background: #2a254d;
      padding: 1.8rem 2rem;
      border-radius: 12px;
      box-shadow: 0 0 15px #7c3aedbb;
      max-width: 900px;
      margin: 0 auto;
      user-select: none;
    }
    form#submitSongForm label {
      display: block;
      margin-top: 1rem;
      font-weight: 600;
      color: #d8d4f7;
    }
    form#submitSongForm input,
    form#submitSongForm textarea,
    form#submitSongForm select {
      width: 100%;
      padding: 0.5rem 0.75rem;
      border-radius: 8px;
      border: none;
      background: #3c3570;
      color: #eee;
      font-size: 1rem;
      margin-top: 0.3rem;
      font-family: 'Inter', sans-serif;
      resize: vertical;
      transition: box-shadow 0.3s ease;
    }
    form#submitSongForm input:focus,
    form#submitSongForm textarea:focus,
    form#submitSongForm select:focus {
      outline: none;
      box-shadow: 0 0 8px #7c3aedcc;
    }
    form#submitSongForm textarea {
      min-height: 80px;
    }
    form#submitSongForm button.submit-btn {
      margin-top: 1.5rem;
      padding: 0.75rem 0;
      width: 100%;
      background: #7c3aed;
      border: none;
      border-radius: 8px;
      font-weight: 700;
      font-size: 1.1rem;
      color: white;
      cursor: pointer;
      transition: background 0.3s ease;
      user-select: none;
    }
    form#submitSongForm button.submit-btn:hover {
      background: #5a21d4;
    }

    /* Releases List */
    table.releases-table {
      width: 100%;
      border-collapse: collapse;
      background: #2a254d;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 0 12px #7c3aedbb;
      user-select: none;
    }
    table.releases-table thead {
      background: #3c3570;
    }
    table.releases-table th,
    table.releases-table td {
      padding: 0.8rem 1rem;
      text-align: left;
      font-size: 0.9rem;
      color: #ddd;
      border-bottom: 1px solid #433d6b;
    }
    table.releases-table th {
      font-weight: 700;
      user-select: text;
    }
    table.releases-table tbody tr:hover {
      background: #4c3dbb;
      cursor: default;
    }
    .status-badge {
      padding: 0.3rem 0.7rem;
      border-radius: 14px;
      font-weight: 700;
      font-size: 0.8rem;
      text-transform: uppercase;
      user-select: none;
      display: inline-block;
    }
    .status-pending {
      background: #fbbf24;
      color: #5a4300;
    }
    .status-accepted {
      background: #22c55e;
      color: #064e03;
    }
    .status-rejected {
      background: #ef4444;
      color: #6b0000;
    }

    /* Profile Section */
    .profile-section {
      max-width: 600px;
      background: #2a254d;
      border-radius: 12px;
      padding: 1.5rem 2rem;
      box-shadow: 0 0 15px #7c3aedbb;
      margin: 0 auto;
      user-select: none;
    }
    .profile-section h2 {
      margin-top: 0;
      font-weight: 700;
      font-size: 1.6rem;
      margin-bottom: 1rem;
      color: #d8d4f7;
    }
    .profile-section p {
      font-size: 1.1rem;
      color: #ccc;
      margin-bottom: 2rem;
    }
    button#logoutBtn {
      background: #ef4444;
      border: none;
      color: white;
      font-weight: 700;
      padding: 0.5rem 1.2rem;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      user-select: none;
      transition: background 0.25s ease;
    }
    button#logoutBtn:hover {
      background: #b91c1c;
    }

    /* Responsive */
    @media (max-width: 700px) {
      nav.sidebar {
        width: 60px;
        padding: 1rem 0.5rem;
      }
      nav.sidebar h2 {
        font-size: 1rem;
        margin-bottom: 1rem;
      }
      nav.sidebar a {
        padding: 0.5rem 0.7rem;
        font-size: 0;
        position: relative;
      }
      nav.sidebar a::after {
        content: attr(data-tooltip);
        position: absolute;
        left: 60px;
        top: 50%;
        transform: translateY(-50%);
        background: #7c3aeddd;
        color: white;
        padding: 4px 8px;
        font-size: 0.8rem;
        border-radius: 4px;
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.2s ease;
      }
      nav.sidebar a:hover::after {
        opacity: 1;
      }
      main.content {
        padding: 1rem 1rem;
      }
    }

    /* Animations */
    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(10px);}
      to {opacity: 1; transform: translateY(0);}
    }
  </style>
</head>
<body>

  <nav class="sidebar" role="navigation" aria-label="Main navigation">
    <h2>X.L.T Records</h2>
    <a href="#" class="nav-link active" data-page="dashboard" data-tooltip="Dashboard">üè† Dashboard</a>
    <a href="#" class="nav-link" data-page="submit" data-tooltip="Submit Song">üéµ Submit Song</a>
    <a href="#" class="nav-link" data-page="releases" data-tooltip="Releases">üìÄ Releases</a>
    <a href="#" class="nav-link" data-page="profile" data-tooltip="Profile">üë§ Profile</a>

    <div class="upgrade-box" role="complementary" aria-label="Upgrade to Pro plan prompt">
      <div><strong>Free Plan Limitations</strong></div>
      <small>Upgrade to Pro for custom release time,<br />priority support & more!</small>
      <button id="upgradeBtn" aria-haspopup="dialog">Upgrade to Pro</button>
    </div>
  </nav>

  <main class="content" role="main" tabindex="-1">

    <header class="main-header">
      <h1>Welcome, <span id="artistNameDisplay">Artist</span></h1>
      <button id="logoutBtn" class="logout-btn" aria-label="Logout">Logout</button>
    </header>

    <!-- Dashboard Overview -->
    <section id="dashboard" class="page active" tabindex="0" aria-labelledby="dashboardTitle">
      <h2 id="dashboardTitle">Dashboard Overview</h2>
      <div class="overview-cards" aria-live="polite" aria-atomic="true">
        <div class="card" aria-label="Total submissions">
          <h3>Total Submissions</h3>
          <p id="totalSubs">0</p>
        </div>
        <div class="card" aria-label="Pending submissions">
          <h3>Pending</h3>
          <p id="pendingSubs">0</p>
        </div>
        <div class="card" aria-label="Accepted submissions">
          <h3>Accepted</h3>
          <p id="acceptedSubs">0</p>
        </div>
        <div class="card" aria-label="Rejected submissions">
          <h3>Rejected</h3>
          <p id="rejectedSubs">0</p>
        </div>
      </div>
    </section>

    <!-- Submit Song -->
    <section id="submit" class="page" tabindex="0" aria-labelledby="submitTitle">
      <h2 id="submitTitle">Submit New Song</h2>
      <form id="submitSongForm" aria-describedby="submitDesc">
        <p id="submitDesc" style="color:#ccc; font-size:0.9rem;">
          Fill all required fields (*) and upload your audio and cover art.<br />
          <em>Note: Free plan uploads go via DistroKid, with midnight release only.</em>
        </p>

        <label for="songTitle">* Song Title</label>
        <input type="text" id="songTitle" name="songTitle" required autocomplete="off" />

        <label for="artistName">* Artist Name</label>
        <input type="text" id="artistName" name="artistName" required autocomplete="off" />

        <label for="albumName">Album / EP Name</label>
        <input type="text" id="albumName" name="albumName" autocomplete="off" placeholder="Optional" />

        <label for="genre">* Genre</label>
        <select id="genre" name="genre" required>
          <option value="" disabled selected>Select Genre</option>
          <option>Pop</option>
          <option>Rock</option>
          <option>Hip-Hop</option>
          <option>Electronic</option>
          <option>Jazz</option>
          <option>Classical</option>
          <option>Funk</option>
          <option>Reggae</option>
          <option>Other</option>
        </select>

        <label for="mood">Mood</label>
        <input type="text" id="mood" name="mood" autocomplete="off" placeholder="Optional" />

        <label for="explicitContent">Explicit Content</label>
        <select id="explicitContent" name="explicitContent">
          <option value="No" selected>No</option>
          <option>Yes</option>
        </select>

        <label for="isrc">ISRC (optional)</label>
        <input type="text" id="isrc" name="isrc" autocomplete="off" placeholder="If you have it" />

        <label for="audioFile">* Audio File (mp3, wav)</label>
        <input type="file" id="audioFile" name="audioFile" accept=".mp3,.wav" required />

        <label for="coverArt">* Cover Art (jpg, png)</label>
        <input type="file" id="coverArt" name="coverArt" accept=".jpg,.jpeg,.png" required />

        <button type="submit" class="submit-btn">Submit Song</button>
      </form>
    </section>

    <!-- Releases -->
    <section id="releases" class="page" tabindex="0" aria-labelledby="releasesTitle">
      <h2 id="releasesTitle">Your Releases</h2>
      <table class="releases-table" aria-describedby="releasesDesc">
        <caption id="releasesDesc" style="text-align:left; margin-bottom:1rem; font-size:0.9rem; color:#ccc;">
          List of all songs you've submitted and their current status.
        </caption>
        <thead>
          <tr>
            <th>Song Title</th>
            <th>Artist</th>
            <th>Genre</th>
            <th>Status</th>
            <th>Submitted On</th>
          </tr>
        </thead>
        <tbody id="releasesList">
          <!-- dynamically inserted rows -->
        </tbody>
      </table>
    </section>

    <!-- Profile -->
    <section id="profile" class="page" tabindex="0" aria-labelledby="profileTitle">
      <h2 id="profileTitle">Your Profile</h2>
      <div class="profile-section">
        <p><strong>Name:</strong> <span id="profileName"></span></p>
        <p><strong>Email:</strong> <span id="profileEmail"></span></p>
        <p><em>Free Plan User ‚Äî Upgrade for Pro features.</em></p>
        <button id="logoutBtn2" aria-label="Logout from profile">Logout</button>
      </div>
    </section>

  </main>

  <script>
    // Mock logged-in user info (replace with real auth in production)
    const loggedInUser = {
      name: localStorage.getItem('artistName') || 'Artist',
      email: localStorage.getItem('artistEmail') || 'artist@example.com',
      plan: 'free' // 'free' or 'pro' - only free here
    };

    // State: submissions array stored in localStorage
    const STORAGE_KEY = 'xlt_free_submissions';
    let submissions = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];

    // Elements
    const navLinks = document.querySelectorAll('nav.sidebar a.nav-link');
    const pages = document.querySelectorAll('section.page');
    const artistNameDisplay = document.getElementById('artistNameDisplay');
    const profileName = document.getElementById('profileName');
    const profileEmail = document.getElementById('profileEmail');
    const logoutBtns = document.querySelectorAll('#logoutBtn, #logoutBtn2');
    const upgradeBtn = document.getElementById('upgradeBtn');

    // Display artist name in header and profile
    artistNameDisplay.textContent = loggedInUser.name;
    profileName.textContent = loggedInUser.name;
    profileEmail.textContent = loggedInUser.email;

    // Navigation tab switching
    navLinks.forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        const pageId = link.getAttribute('data-page');

        navLinks.forEach(l => l.classList.remove('active'));
        link.classList.add('active');

        pages.forEach(p => p.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');

        // Focus main content area
        document.querySelector('main.content').focus();
      });
    });

    // Logout: Clear localStorage and redirect (demo purposes)
    logoutBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        alert('Logging out...');
        // Clear demo data and reload for demo
        // In real app, do proper logout logic
        // localStorage.clear();
        window.location.href = 'index.html'; // redirect to login/home
      });
    });

    // Upgrade button
    upgradeBtn.addEventListener('click', () => {
      alert('Upgrade to Pro plan feature is coming soon!');
    });

    // Update dashboard stats
    function updateDashboardStats() {
      const total = submissions.length;
      const pending = submissions.filter(s => s.status === 'Pending').length;
      const accepted = submissions.filter(s => s.status === 'Accepted').length;
      const rejected = submissions.filter(s => s.status === 'Rejected').length;

      document.getElementById('totalSubs').textContent = total;
      document.getElementById('pendingSubs').textContent = pending;
      document.getElementById('acceptedSubs').textContent = accepted;
      document.getElementById('rejectedSubs').textContent = rejected;
    }

    // Render releases list table
    function renderReleases() {
      const tbody = document.getElementById('releasesList');
      tbody.innerHTML = '';

      if (submissions.length === 0) {
        tbody.innerHTML = `<tr><td colspan="5" style="text-align:center; padding:1rem; color:#888;">
          No submissions yet. Submit a song to get started.
        </td></tr>`;
        return;
      }

      submissions.forEach(sub => {
        const tr = document.createElement('tr');

        tr.innerHTML = `
          <td>${escapeHTML(sub.songTitle)}</td>
          <td>${escapeHTML(sub.artistName)}</td>
          <td>${escapeHTML(sub.genre)}</td>
          <td><span class="status-badge status-${sub.status.toLowerCase()}">${sub.status}</span></td>
          <td>${new Date(sub.submittedOn).toLocaleDateString()}</td>
        `;

        tbody.appendChild(tr);
      });
    }

    // Escape HTML to prevent XSS
    function escapeHTML(str) {
      return str.replace(/[&<>"']/g, function(m) {
        return {'&':'&amp;', '<':'&lt;', '>':'&gt;', '"':'&quot;', "'":'&#39;'}[m];
      });
    }

    // Form submission logic with Free Plan limits
    document.getElementById('submitSongForm').addEventListener('submit', e => {
      e.preventDefault();

      const form = e.target;
      const formData = new FormData(form);

      // Simulate file uploads
      const audioFile = formData.get('audioFile');
      const coverArt = formData.get('coverArt');

      if (!audioFile || !coverArt) {
        alert('Please upload audio file and cover art.');
        return;
      }

      // Gather data
      const submission = {
        songTitle: formData.get('songTitle').trim(),
        artistName: formData.get('artistName').trim(),
        albumName: formData.get('albumName').trim(),
        genre: formData.get('genre'),
        mood: formData.get('mood').trim(),
        explicitContent: formData.get('explicitContent'),
        isrc: formData.get('isrc').trim(),
        status: 'Pending',
        submittedOn: new Date().toISOString()
      };

      // Check required fields
      if (!submission.songTitle || !submission.artistName || !submission.genre) {
        alert('Please fill all required fields.');
        return;
      }

      // Free plan restriction example: max 5 submissions
      if (submissions.length >= 5) {
        alert('Free Plan submission limit reached. Please upgrade to Pro for unlimited submissions.');
        return;
      }

      // Add submission to array and save
      submissions.push(submission);
      localStorage.setItem(STORAGE_KEY, JSON.stringify(submissions));

      // Reset form and update UI
      form.reset();
      alert('Song submitted successfully! Your release will go live at midnight only.');
      updateDashboardStats();
      renderReleases();

      // Switch to Releases page automatically
      document.querySelector('nav.sidebar a[data-page="releases"]').click();
    });

    // Initialize UI
    updateDashboardStats();
    renderReleases();
  </script>

</body>
</html>
